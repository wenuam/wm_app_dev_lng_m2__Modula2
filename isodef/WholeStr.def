DEFINITION MODULE WholeStr;
(* =========================================
            Definition Module from
                  ISO Modula-2
Draft Standard CD10515 by JTC1/SC22/WG13
    Language and Module designs  1992 by
BSI, D.J. Andrews, B.J. Cornelius, R. B. Henry
R. Sutcliffe, D.P. Ward, and M. Woodman
=========================================== *)

%IF DLL %THEN
<*/EXPORTALL/PROPAGATEEXCEPTIONALL/COPYATTRIBUTES*>
%END

  (* Whole-number/string conversions *)

IMPORT
    ConvTypes;

TYPE
    ConvResults = ConvTypes.ConvResults;
    (* strAllRight, strOutOfRange, strWrongFormat, strEmpty *)

(* the string form of a signed whole number is
     ["+" | "-"], decimal digit, {decimal digit}
*)

PROCEDURE StrToInt(str : ARRAY OF CHAR;
                   VAR int : INTEGER;
                   VAR res : ConvResults);
  (* Ignores any leading spaces in str. If the subsequent characters in
     str are in the format of a signed whole number, assigns a corresponding
     value to int. Assigns a value indicating the format of str to res.  *)

PROCEDURE IntToStr(int : INTEGER; VAR str : ARRAY OF CHAR);
  (* Converts the value of int to string form and copies the possibly
     truncated result to str. *)

(* the string form of an unsigned whole number is
     decimal digit, {decimal digit} *)

PROCEDURE StrToCard(str : ARRAY OF CHAR;
                    VAR card : CARDINAL;
                    VAR res : ConvResults);
  (* Ignores any leading spaces in str. If the subsequent characters in
     str are in the format of an unsigned whole number, assigns a
     corresponding value to card. Assigns a value indicating the format
     of str to res.  *)

PROCEDURE CardToStr(card : CARDINAL; VAR str : ARRAY OF CHAR);
  (* Converts the value of card to string form and copies the possibly
     truncated result to str. *)

END WholeStr.
