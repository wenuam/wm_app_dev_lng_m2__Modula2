IMPLEMENTATION MODULE MMSYSTEM;
<*/NOWARN:I*>

FROM SYSTEM IMPORT
    CAST;

FROM WIN32 IMPORT
    DWORD, BYTE;
(*
FROM WIN32 IMPORT
    MAKELONG;
*)

<*/CALLS:StonyBrook*>

(*
PROCEDURE DIBINDEX(a : INTEGER): INTEGER;
BEGIN
    MAKELONG(a, 010ffh);
END DIBINDEX;
*)

PROCEDURE MCI_MSF_MINUTE(msf : DWORD) : BYTE;
BEGIN
    RETURN CAST(BYTE, msf);
END MCI_MSF_MINUTE;

PROCEDURE MCI_MSF_SECOND(msf : DWORD) : BYTE;
BEGIN
    RETURN CAST(BYTE, msf SHR 8);
END MCI_MSF_SECOND;

PROCEDURE MCI_MSF_FRAME(msf : DWORD) : BYTE;
BEGIN
    RETURN CAST(BYTE, msf SHR 16);
END MCI_MSF_FRAME;

PROCEDURE MCI_MAKE_MSF(m, s, f : INTEGER): DWORD;
BEGIN
    RETURN m BOR (s SHL 8) BOR (f SHL 16);
END MCI_MAKE_MSF;

PROCEDURE MCI_TMSF_TRACK(tmsf : DWORD) : BYTE;
BEGIN
    RETURN CAST(BYTE, tmsf);
END MCI_TMSF_TRACK;

PROCEDURE MCI_TMSF_MINUTE(tmsf : DWORD):BYTE;
BEGIN
    RETURN CAST(BYTE, tmsf SHR 8);
END MCI_TMSF_MINUTE;

PROCEDURE MCI_TMSF_SECOND(tmsf : DWORD):BYTE;
BEGIN
    RETURN CAST(BYTE, tmsf SHR 16);
END MCI_TMSF_SECOND;

PROCEDURE MCI_TMSF_FRAME(tmsf : DWORD):BYTE;
BEGIN
    RETURN CAST(BYTE, tmsf SHR 24);
END MCI_TMSF_FRAME;

PROCEDURE MCI_MAKE_TMSF(t, m, s, f : INTEGER):DWORD;
BEGIN
    RETURN t BOR (m SHL 8) BOR (s SHL 16) BOR (f SHL 24);
END MCI_MAKE_TMSF;

PROCEDURE MCI_HMS_HOUR(hms : DWORD):BYTE;
BEGIN
    RETURN CAST(BYTE, hms);
END MCI_HMS_HOUR;

PROCEDURE MCI_HMS_MINUTE(hms : DWORD):BYTE;
BEGIN
    RETURN CAST(BYTE, hms SHR 8);
END MCI_HMS_MINUTE;

PROCEDURE MCI_HMS_SECOND(hms : DWORD):BYTE;
BEGIN
    RETURN CAST(BYTE, hms SHR 16);
END MCI_HMS_SECOND;

PROCEDURE MCI_MAKE_HMS(h, m, s : INTEGER):DWORD;
BEGIN
    RETURN h BOR (m SHL 8) BOR (s SHL 16);
END MCI_MAKE_HMS;

PROCEDURE mmioFOURCC(c0, c1, c2, c3 : ACHAR) : DWORD;
BEGIN
    RETURN ORD(c0) BOR (ORD(c1) SHL 8) BOR (ORD(c2) SHL 16) BOR (ORD(c3) SHL 24);
END mmioFOURCC;

PROCEDURE MAKEFOURCC(c0, c1, c2, c3 : ACHAR) : DWORD;
BEGIN
    RETURN ORD(c0) BOR (ORD(c1) SHL 8) BOR (ORD(c2) SHL 16) BOR (ORD(c3) SHL 24);
END MAKEFOURCC;

PROCEDURE sndAlias(c1, c2 : ACHAR) : DWORD;
BEGIN
    RETURN (ORD(c1) BOR ( ORD(c2) SHL 8) ) + SND_ALIAS_START;
END sndAlias;


PROCEDURE MEVT_EVENTTYPE(x : DWORD) : DWORD;
BEGIN
    RETURN (x SHR 24) BAND 0FFh;
END MEVT_EVENTTYPE;

PROCEDURE MEVT_EVENTPARM(x : DWORD) : DWORD;
BEGIN
   RETURN x BAND 00FFFFFFh;
END MEVT_EVENTPARM;


END MMSYSTEM.
